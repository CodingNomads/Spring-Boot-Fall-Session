<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${pageTitle}">Todo List</title>
    <style>
        body { font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif; margin: 2rem; }
        .container { max-width: 720px; margin: 0 auto; }
        .header { display:flex; align-items:center; justify-content: space-between; }
        ul { padding-left: 1.2rem; }
        li { margin: .25rem 0; }
        .done { text-decoration: line-through; color: #6b7280; }
        form.inline { display: inline; margin-left: .5rem; }
        small.badge { padding: .1rem .4rem; border-radius: .25rem; background: #eef2ff; color: #3730a3; margin-left: .5rem; }
        .actions { margin-left: .5rem; }
        button { cursor: pointer; }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1 th:text="${pageTitle}">Todo List</h1>
        <div>
            <a th:href="@{/todos/new}">+ New</a>
            <span style="margin-left:.5rem;"><a th:href="@{/todos/wizard/new}">+ New (Wizard)</a></span>
        </div>
    </div>

    <p th:if="${#lists.isEmpty(todos)}">No todos yet. Click <a th:href="@{/todos/new}">here</a> to add one.</p>

    <ul>
        <li th:each="t, stat : ${todos}" th:classappend="${t.completed} ? 'done'">
            <span th:text="${t.title}">Sample todo</span>
            <small class="badge" th:text="${t.statusLabel()}">Open</small>
            <span class="actions">
                <form class="inline" th:action="@{/todos/{id}/toggle(id=${t.id})}" method="post">
                    <button type="submit" th:text="${t.completed} ? 'Mark Open' : 'Mark Done'">Toggle</button>
                </form>
                <form class="inline" th:action="@{/todos/{id}/delete(id=${t.id})}" method="post">
                    <button type="submit">Delete</button>
                </form>
            </span>
        </li>
    </ul>
</div>
</body>
</html>
