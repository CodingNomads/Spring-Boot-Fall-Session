<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Edit User</title>
</head>
<body>
<div th:replace="fragments/layout :: layout(~{::section})">
    <section>
        <h1>Edit User</h1>

        <div>
            <p><strong>ID:</strong> <span th:text="${user.id}">1</span></p>
            <p><strong>Username:</strong> <span th:text="${user.username}">jane</span></p>
        </div>

        <form th:action="@{'/admin/users/' + ${user.id}}" method="post">
            <fieldset>
                <legend>Statuses</legend>
                <label>
                    <input type="checkbox" name="accountExpired" th:checked="${user.accountExpired}">
                    Account Expired
                </label>
                <br/>
                <label>
                    <input type="checkbox" name="accountLocked" th:checked="${user.accountLocked}">
                    Account Locked
                </label>
                <br/>
                <label>
                    <input type="checkbox" name="credentialsExpired" th:checked="${user.credentialsExpired}">
                    Credentials Expired
                </label>
            </fieldset>

            <fieldset>
                <legend>Roles</legend>
                <div th:each="r : ${allRoles}">
                    <label>
                        <input type="checkbox" name="roles" th:value="${r.name}"
                               th:checked="${user.roles.contains(r)}">
                        <span th:text="${r.name}">ROLE_USER</span>
                    </label>
                </div>
            </fieldset>

            <div style="margin-top: 1rem">
                <button type="submit">Save</button>
                <a th:href="@{/admin/users}" style="margin-left:0.5rem">Cancel</a>
            </div>
        </form>
    </section>
</div>
</body>
</html>
